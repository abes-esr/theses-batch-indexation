
  -- Pour oracle, on créé une table de cache pour optimiser le chargement des personnes dans ES

  CREATE TABLE "PORTAIL"."PERSONNE_CACHE"
   (	"PPN" VARCHAR2(20 BYTE),
	"NOM_INDEX" VARCHAR2(50 BYTE) NOT NULL ENABLE,
	"PERSONNE" CLOB
   ) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PORTAIL"
 LOB ("PERSONNE") STORE AS SECUREFILE (
  TABLESPACE "PORTAIL" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
  
  COMMENT ON TABLE "PORTAIL"."PERSONNE_CACHE"  IS 'On utilise une table de cache pour optimiser le chargement des personnes, présentese dans les TEF, dans ElasticSearch (Refonte Theses.fr 2023)';

  CREATE INDEX "PORTAIL"."PERSONNE_CACHE_INDEX1" ON "PORTAIL"."PERSONNE_CACHE" ("PPN")
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PORTAIL" ;